<!DOCTYPE html>
<html>
<head>
  <title>ufo</title>
  <script type="text/javascript">
      var begin = +new Date; //必须作为javascript的第一行运行，因为后面的资源加载和计算都是同步的，在这里才能尽早记录初始时间
      function logTime(){
        var rtn = '第'+(+new Date - begin);
        return rtn;
      }
      function log(text) { 
        console.log(text,logTime());
      }
      log('initial readyState:' + document.readyState);
      window.addEventListener("load", ()=> {
        // var img = document.querySelectorAll('img')[0];
        log("All resources finished loading!");
      });
      document.addEventListener("DOMContentLoaded", ()=> {
        // var img = document.querySelectorAll('img')[0];
        log("DOM fully loaded and parsed");
      });
      document.addEventListener('readystatechange', () => log('readyState:' + document.readyState));
  </script>

  <link rel="stylesheet" type="text/css" href="https://a.alipayobjects.com/u/css/201402/2ACTshL8Vh.css">
  <script type="text/javascript" src="https://g.alicdn.com/sj/bunting/0.8.0/js/libs/jquery/jquery.js"></script>
</head>
<body>
  ufo
  <iframe src="http://www.baidu.com" onload="log('iframe onload')"></iframe>
  <img src="http://img.zcool.cn/community/014c26591288bda801216a3ed7306a.jpg@900w_1l_2o_100sh.jpg" id="_img">
</body>
<script type="text/javascript">
 _img.onload = () => log('img onload');
// for(var i=0; i<1000000000; i++){} 
// 这个同步脚本将延迟DOM的解析。
// 所以DOMContentLoaded事件稍后将启动。
</script>

<script type="text/javascript" defer src="http://apps.bdimg.com/libs/angular.js/1.4.6/angular.min.js"></script>
</html>